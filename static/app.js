!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([/*!******************!*\
  !*** multi main ***!
  \******************/
function(e,t,n){n(/*! ./actions/index.js */20),n(/*! ./store/index.js */3),e.exports=n(/*! ./main.js */21)},/*!*************************!*\
  !*** ../~/riot/riot.js ***!
  \*************************/
function(e,t,n){var o;!function(i,r){"use strict";function a(e,t,n){var o={};return o[e.key]=t,e.pos&&(o[e.pos]=n),o}function s(e,t){for(var n,o=t.length,i=e.length;o>i;)n=t[--o],t.splice(o,1),n.unmount()}function u(e,t){Object.keys(e.tags).forEach(function(n){var o=e.tags[n];I(o)?_(o,function(e){q(e,n,t)}):q(o,n,t)})}function l(e,t,n){var o,i=e._root;for(e._virts=[];i;)o=i.nextSibling,n?t.insertBefore(i,n._root):t.appendChild(i),e._virts.push(i),i=o}function c(e,t,n,o){for(var i,r=e._root,a=0;a<o;a++)i=r.nextSibling,t.insertBefore(r,n._root),r=i}function d(e,t,n){S(e,"each");var o,i=typeof O(e,"no-reorder")!==re||S(e,"no-reorder"),r=A(e),d=ee[r]||{tmpl:y(e)},f=le.test(r),p=e.parentNode,v=document.createTextNode(""),g=C(e),h="option"===r.toLowerCase(),_=[],b=[],w="VIRTUAL"==e.tagName;n=ve.loopKeys(n),p.insertBefore(v,e),t.one("before-mount",function(){e.parentNode.removeChild(e),p.stub&&(p=t.root)}).on("update",function(){var y=ve(n.val,t),x=document.createDocumentFragment();I(y)||(o=y||!1,y=o?Object.keys(y).map(function(e){return a(n,e,y[e])}):[]);for(var j=0,S=y.length;j<S;j++){var L=y[j],O=i&&typeof L==ae&&!o,N=b.indexOf(L),C=~N&&O?N:j,E=_[C];L=!o&&n.key?a(n,L,j):L,!O&&!E||O&&!~N||!E?(E=new m(d,{parent:t,isLoop:!0,hasImpl:!!ee[r],root:f?p:e.cloneNode(),item:L},e.innerHTML),E.mount(),w&&(E._root=E.root.firstChild),j!=_.length&&_[j]?(w?l(E,p,_[j]):p.insertBefore(E.root,_[j].root),b.splice(j,0,L)):w?l(E,x):x.appendChild(E.root),_.splice(j,0,E),C=j):E.update(L,!0),C!==j&&O&&_[j]&&(w?c(E,p,_[j],e.childNodes.length):p.insertBefore(E.root,_[j].root),n.pos&&(E[n.pos]=j),_.splice(j,0,_.splice(C,1)[0]),b.splice(j,0,b.splice(C,1)[0]),!g&&E.tags&&u(E,j)),E._item=L,P(E,"_parent",t)}if(s(y,_),h){if(p.appendChild(x),pe&&!p.multiple)for(var q=0;q<p.length;q++)if(p[q].__riot1374){p.selectedIndex=q,delete p[q].__riot1374;break}}else p.insertBefore(x,v);g&&(t.tags[r]=_),b=y.slice()})}function f(e,t,n,o){D(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||O(e,"each")?1:0,n){var i=C(e);i&&!e.isLoop&&n.push(M(i,{root:e,parent:t},e.innerHTML,t))}e.isLoop&&!o||J(e,t,[])}})}function p(e,t,n){function o(e,t,o){ve.hasExpr(t)&&n.push(k({dom:e,expr:t},o))}D(e,function(e){var n,i=e.nodeType;if(3==i&&"STYLE"!=e.parentNode.tagName&&o(e,e.nodeValue),1==i)return(n=O(e,"each"))?(d(e,t,n),!1):(_(e.attributes,function(t){var n=t.name,i=n.split("__")[1];if(o(e,t.value,{attr:i||n,bool:i}),i)return S(e,n),!1}),!C(e)&&void 0)})}function m(e,t,n){function o(){var e=g&&v?c:m||c;_(O.attributes,function(t){var n=t.value;d[L(t.name)]=ve.hasExpr(n)?ve(n,e):n}),_(Object.keys(E),function(t){d[L(t)]=ve(E[t],e)})}function i(e){for(var t in y)typeof c[t]!==se&&F(c,t)&&(c[t]=e[t])}function a(){c.parent&&v&&_(Object.keys(c.parent),function(e){var t=!ce.test(e)&&$(q,e);(typeof c[e]===se||t)&&(t||q.push(e),c[e]=c.parent[e])})}function s(e){c.update(e,!0)}function u(e){if(_(x,function(t){t[e?"mount":"unmount"]()}),m){var t=e?"on":"off";v?m[t]("unmount",c.unmount):m[t]("update",s)[t]("unmount",c.unmount)}}var l,c=W.observable(this),d=K(t.opts)||{},m=t.parent,v=t.isLoop,g=t.hasImpl,y=R(t.item),w=[],x=[],O=t.root,C=O.tagName.toLowerCase(),E={},q=[];e.name&&O._tag&&O._tag.unmount(!0),this.isMounted=!1,O.isLoop=v,O._tag=this,P(this,"_riot_id",++X),k(this,{parent:m,root:O,opts:d},y),P(this,"tags",{}),_(O.attributes,function(e){var t=e.value;ve.hasExpr(t)&&(E[e.name]=t)}),l=ge(e.tmpl,n),P(this,"update",function(e,t){return e=R(e),a(),e&&j(y)&&(i(e),y=e),k(c,e),o(),c.trigger("update",e),h(w,c),t&&c.parent?c.parent.one("updated",function(){c.trigger("updated")}):_e(function(){c.trigger("updated")}),this}),P(this,"mixin",function(){return _(arguments,function(e){var t;e=typeof e===re?W.mixin(e):e,b(e)?(t=new e,e=e.prototype):t=e,_(Object.getOwnPropertyNames(e),function(e){"init"!=e&&(c[e]=b(t[e])?t[e].bind(c):t[e])}),t.init&&t.init.bind(c)()}),this}),P(this,"mount",function(){o();var t=W.mixin(te);if(t)for(var n in t)t.hasOwnProperty(n)&&c.mixin(t[n]);if(e.fn&&e.fn.call(c,d),p(l,c,w),u(!0),e.attrs&&H(e.attrs,function(e,t){N(O,e,t)}),(e.attrs||g)&&p(c.root,c,w),c.parent&&!v||c.update(y),c.trigger("before-mount"),v&&!g)O=l.firstChild;else{for(;l.firstChild;)O.appendChild(l.firstChild);O.stub&&(O=m.root)}P(c,"root",O),v&&f(c.root,c.parent,null,!0),!c.parent||c.parent.isMounted?(c.isMounted=!0,c.trigger("mount")):c.parent.one("mount",function(){B(c.root)||(c.parent.isMounted=c.isMounted=!0,c.trigger("mount"))})}),P(this,"unmount",function(e){var t,n=O,o=n.parentNode,i=Y.indexOf(c);if(c.trigger("before-unmount"),~i&&Y.splice(i,1),o){if(m)t=T(m),I(t.tags[C])?_(t.tags[C],function(e,n){e._riot_id==c._riot_id&&t.tags[C].splice(n,1)}):t.tags[C]=r;else for(;n.firstChild;)n.removeChild(n.firstChild);e?(S(o,ie),S(o,oe)):o.removeChild(n)}this._virts&&_(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),c.trigger("unmount"),u(),c.off("*"),c.isMounted=!1,delete O._tag}),f(l,this,x)}function v(e,t,n,o){n[e]=function(e){var r,a=o._parent,s=o._item;if(!s)for(;a&&!s;)s=a._item,a=a._parent;e=e||i.event,F(e,"currentTarget")&&(e.currentTarget=n),F(e,"target")&&(e.target=e.srcElement),F(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=s,t.call(o,e)===!0||/radio|check/.test(n.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(r=s?T(a):o,r.update())}}function g(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function h(e,t){_(e,function(e,n){var o=e.dom,i=e.attr,r=ve(e.expr,t),a=e.dom.parentNode;if(e.bool?r=!!r:null==r&&(r=""),e.value!==r){if(e.value=r,!i)return r+="",void(a&&("TEXTAREA"===a.tagName?(a.value=r,fe||(o.nodeValue=r)):o.nodeValue=r));if("value"===i)return void(o.value=r);if(S(o,i),b(r))v(i,r,o,t);else if("if"==i){var s=e.stub,u=function(){g(s.parentNode,s,o)},l=function(){g(o.parentNode,o,s)};r?s&&(u(),o.inStub=!1,B(o)||D(o,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(s=e.stub=s||document.createTextNode(""),o.parentNode?l():(t.parent||t).one("updated",l),o.inStub=!0)}else"show"===i?o.style.display=r?"":"none":"hide"===i?o.style.display=r?"none":"":e.bool?(o[i]=r,r&&N(o,i,i),pe&&"selected"===i&&"OPTION"===o.tagName&&(o.__riot1374=r)):(0===r||r&&typeof r!==ae)&&(Z(i,ne)&&i!=oe&&(i=i.slice(ne.length)),N(o,i,r))}})}function _(e,t){for(var n,o=e?e.length:0,i=0;i<o;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function b(e){return typeof e===ue||!1}function y(e){if(e.outerHTML)return e.outerHTML;var t=U("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function w(e,t){if(typeof e.innerHTML!=se)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function x(e){return~de.indexOf(e)}function j(e){return e&&typeof e===ae}function S(e,t){e.removeAttribute(t)}function L(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function O(e,t){return e.getAttribute(t)}function N(e,t,n){e.setAttribute(t,n)}function C(e){return e.tagName&&ee[O(e,ie)||O(e,oe)||e.tagName.toLowerCase()]}function E(e,t,n){var o=n.tags[t];o?(I(o)||o!==e&&(n.tags[t]=[o]),$(n.tags[t],e)||n.tags[t].push(e)):n.tags[t]=e}function q(e,t,n){var o,i=e.parent;i&&(o=i.tags[t],I(o)?o.splice(n,0,o.splice(o.indexOf(e),1)[0]):E(e,t,i))}function M(e,t,n,o){var i=new m(e,t,n),r=A(t.root),a=T(o);return i.parent=a,i._parent=o,E(i,r,a),a!==o&&E(i,r,o),t.root.innerHTML="",i}function T(e){for(var t=e;!C(t.root)&&t.parent;)t=t.parent;return t}function P(e,t,n,o){return Object.defineProperty(e,t,k({value:n,enumerable:!1,writable:!1,configurable:!0},o)),e}function A(e){var t=C(e),n=O(e,"name"),o=n&&!ve.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return o}function k(e){for(var t,n=arguments,o=1;o<n.length;++o)if(t=n[o])for(var i in t)F(e,i)&&(e[i]=t[i]);return e}function $(e,t){return~e.indexOf(t)}function I(e){return Array.isArray(e)||e instanceof Array}function F(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===se||n&&n.writable}function R(e){if(!(e instanceof m||e&&typeof e.trigger==ue))return e;var t={};for(var n in e)ce.test(n)||(t[n]=e[n]);return t}function D(e,t){if(e){if(t(e)===!1)return;for(e=e.firstChild;e;)D(e,t),e=e.nextSibling}}function H(e,t){for(var n,o=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=o.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function B(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function U(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function V(e,t){return(t||document).querySelectorAll(e)}function z(e,t){return(t||document).querySelector(e)}function K(e){function t(){}return t.prototype=e,new t}function G(e){return O(e,"id")||O(e,"name")}function J(e,t,n){var o,i=G(e),r=function(r){$(n,i)||(o=I(r),r?(!o||o&&!$(r,e))&&(o?r.push(e):t[i]=[r,e]):t[i]=e)};i&&(ve.hasExpr(i)?t.one("mount",function(){i=G(e),r(t[i])}):r(t[i]))}function Z(e,t){return e.slice(0,t.length)===t}function Q(e,t,n){var o=ee[t],i=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",o&&e&&(o=new m(o,{root:e,opts:n},i)),o&&o.mount&&(o.mount(),$(Y,o)||Y.push(o)),o}var W={version:"v2.4.1",settings:{}},X=0,Y=[],ee={},te="__global_mixin",ne="riot-",oe=ne+"tag",ie="data-is",re="string",ae="object",se="undefined",ue="function",le=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,ce=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,de=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],fe=0|(i&&i.document||{}).documentMode,pe=i&&!!i.InstallTrigger;W.observable=function(e){function t(e,t){for(var n,o,i=e.split(" "),r=i.length,a=0;a<r;a++)n=i[a],o=n.indexOf("."),n&&t(~o?n.substring(0,o):n,a,~o?n.slice(o+1):null)}e=e||{};var n={},o=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(o,i){return"function"!=typeof i?e:(t(o,function(e,t,o){(n[e]=n[e]||[]).push(i),i.typed=t>0,i.ns=o}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(o,i){return"*"!=o||i?t(o,function(e,t,o){if(i||o)for(var r,a=n[e],s=0;r=a&&a[s];++s)(r==i||o&&r.ns==o)&&a.splice(s--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function o(){e.off(t,o),n.apply(e,arguments)}return e.on(t,o)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var r,a=arguments.length-1,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+1];return t(i,function(t,i,a){r=o.call(n[t]||[],0);for(var u,l=0;u=r[l];++l)u.busy||(u.busy=1,a&&u.ns!=a||u.apply(e,u.typed?[t].concat(s):s),r[l]!==u&&l--,u.busy=0);n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(s))}),e},enumerable:!1,writable:!1,configurable:!1}}),e},function(e){function t(e){return e.split(/[\/?#]/)}function n(e,t){var n=new RegExp("^"+t[S](/\*/g,"([^/?#]+?)")[S](/\.\./,".*")+"$"),o=e.match(n);if(o)return o.slice(1)}function o(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function r(e){m=o(d,1),E[x](L,m),E[x](O,m),q[x](A,f),e&&d(!0)}function a(){this.$=[],e.observable(this),$.on("stop",this.s.bind(this)),$.on("emit",this.e.bind(this))}function s(e){return e[S](/^\/|\/$/,"")}function u(e){return"string"==typeof e}function l(e){return(e||T.href)[S](b,"")}function c(e){return"#"==v[0]?(e||T.href||"").split(v)[1]||"":(T?l(e):e||"")[S](v,"")}function d(e){var t=0==R;if(!(C<=R)&&(R++,F.push(function(){var t=c();(e||t!=g)&&($[N]("emit",t),g=t)}),t)){for(;F.length;)F[0](),F.shift();R=0}}function f(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[j]("download")||!t[j]("href")||t.target&&"_self"!=t.target||t.href.indexOf(T.href.match(b)[0])==-1||(t.href==T.href||t.href.split("#")[0]!=T.href.split("#")[0]&&("#"==v||0===l(t.href).indexOf(v))&&p(c(t.href),t.title||q.title))&&e.preventDefault()}}function p(e,t,n){return M?(e=v+s(e),t=t||q.title,n?M.replaceState(null,t,e):M.pushState(null,t,e),q.title=t,I=!1,d(),I):$[N]("emit",c(e))}var m,v,g,h,_,b=/^.+?\/\/+[^\/]+/,y="EventListener",w="remove"+y,x="add"+y,j="hasAttribute",S="replace",L="popstate",O="hashchange",N="trigger",C=3,E="undefined"!=typeof i&&i,q="undefined"!=typeof document&&document,M=E&&history,T=E&&(M.location||E.location),P=a.prototype,A=q&&q.ontouchstart?"touchstart":"click",k=!1,$=e.observable(),I=!1,F=[],R=0;P.m=function(e,t,n){!u(e)||t&&!u(t)?t?this.r(e,t):this.r("@",e):p(e,t,n||!1)},P.s=function(){this.off("*"),this.$=[]},P.e=function(e){this.$.concat("@").some(function(t){var n=("@"==t?h:_)(s(e),s(t));if("undefined"!=typeof n)return this[N].apply(null,[t].concat(n)),I=!0},this)},P.r=function(e,t){"@"!=e&&(e="/"+s(e),this.$.push(e)),this.on(e,t)};var D=new a,H=D.m.bind(D);H.create=function(){var e=new a,t=e.m.bind(e);return t.stop=e.s.bind(e),t},H.base=function(e){v=e||"#",g=c()},H.exec=function(){d(!0)},H.parser=function(e,o){e||o||(h=t,_=n),e&&(h=e),o&&(_=o)},H.query=function(){var e={},t=T.href||g;return t[S](/[?&](.+?)=([^&]*)/g,function(t,n,o){e[n]=o}),e},H.stop=function(){k&&(E&&(E[w](L,m),E[w](O,m),q[w](A,f)),$[N]("stop"),k=!1)},H.start=function(e){k||(E&&("complete"==document.readyState?r(e):E[x]("load",function(){setTimeout(function(){r(e)},1)})),k=!0)},H.base(),H.parser(),e.route=H}(W);var me=function(e){function t(e){return e}function n(e,t){return t||(t=h),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?l:"")}function o(e){if(e===m)return v;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:v[4],t),t[5]=n(e.length>3?/\\({|})/g:v[5],t),t[6]=n(v[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+f,l),t[8]=e,t}function i(e){return e instanceof RegExp?s(e):h[e]}function r(e){(e||(e=m))!==h[8]&&(h=o(e),s=e===m?t:n,h[9]=s(v[9])),g=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:r,get:function(){return g},enumerable:!0}),u=e,r(t)}var s,u,l="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,f=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p={"(":RegExp("([()])|"+f,l),"[":RegExp("([[\\]])|"+f,l),"{":RegExp("([{}])|"+f,l)},m="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+f,l),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],g=e,h=[];return i.split=function(e,t,n){function o(e){t||a?l.push(e&&e.replace(n[5],"$1")):l.push(e)}function i(e,t,n){var o,i=p[t];for(i.lastIndex=n,n=1;(o=i.exec(e))&&(!o[1]||(o[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=h);var r,a,s,u,l=[],c=n[6];for(a=s=c.lastIndex=0;r=c.exec(e);){if(u=r.index,a){if(r[2]){c.lastIndex=i(e,r[2],c.lastIndex);continue}if(!r[3])continue}r[1]||(o(e.slice(s,u)),s=c.lastIndex,c=n[6+(a^=1)],c.lastIndex=s)}return e&&s<e.length&&o(e.slice(s)),l},i.hasExpr=function(e){return h[4].test(e)},i.loopKeys=function(e){var t=e.match(h[9]);return t?{key:t[1],pos:t[2],val:h[0]+t[3].trim()+h[1]}:{val:e.trim()}},i.array=function(e){return e?o(e):h},Object.defineProperty(i,"settings",{set:a,get:function(){return u}}),i.settings="undefined"!=typeof W&&W.settings||{},i.set=r,i.R_STRINGS=d,i.R_MLCOMMS=c,i.S_QBLOCKS=f,i}(),ve=function(){function e(e,o){return e?(s[e]||(s[e]=n(e))).call(o,t):e}function t(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function n(e){var t=o(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function o(e){var t,n=[],o=me.split(e.replace(d,'"'),1);if(o.length>2||o[0]){var i,a,s=[];for(i=a=0;i<o.length;++i)t=o[i],t&&(t=1&i?r(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[a++]=t);t=a<2?s[0]:"["+s.join(",")+'].join("")'}else t=r(o[1],0,n);return n[0]&&(t=t.replace(f,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function r(e,t,n){function o(t,n){var o,i=1,r=p[t];for(r.lastIndex=n.lastIndex;o=r.exec(e);)if(o[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:r.lastIndex}if(e=e.replace(c,function(e,t){return e.length>2&&!t?u+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,r=[],s=0;e&&(i=e.match(l))&&!i.index;){var d,f,m=/,|([[{(])|$/g;for(e=RegExp.rightContext,d=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];f=(i=m.exec(e))[1];)o(f,m);f=e.slice(0,i.index),e=RegExp.rightContext,r[s++]=a(f,1,d)}e=s?s>1?"["+r.join(",")+'].join(" ").trim()':r[0]:a(e,t)}return e}function a(e,t,n){var o;return e=e.replace(v,function(e,t,n,i,r){return n&&(i=o?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+m+n,i&&(o="."===(r=r[i])||"("===r||"["===r)):i&&(o=!g.test(r.slice(i)))),e}),o&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(o?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(o?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var s={};e.haveRaw=me.hasRaw,e.hasExpr=me.hasExpr,e.loopKeys=me.loopKeys,e.errorHandler=null;var u="⁗",l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(me.S_QBLOCKS,"g"),d=/\u2057/g,f=/\u2057(\d+)~/g,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},m='"in this?this:'+("object"!=typeof i?"global":"window")+").",v=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(e){return e},e.version=me.version="v2.4.0",e}(),ge=function be(){function be(n,o){var i=n&&n.match(/^\s*<([-\w]+)/),r=i&&i[1].toLowerCase(),a=U("div",x(r));return n=t(n,o),s.test(r)?a=e(a,n,r):w(a,n),a.stub=!0,a}function e(e,t,n){var o="o"===n[0],i=o?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,o)i.selectedIndex=-1;else{var r=a[n];r&&1===i.childElementCount&&(i=z(r,i))}return i}function t(e,t){if(!n.test(e))return e;var a={};return t=t&&t.replace(i,function(e,t,n){return a[t]=a[t]||n,""}).trim(),e.replace(r,function(e,t,n){return a[t]||n||""}).replace(o,function(e,n){return t||n||""})}var n=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,r=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,a={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=fe&&fe<10?le:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return be}(),he=function(e){if(!i)return{add:function(){},inject:function(){}};var t=function(){var e=U("style");N(e,"type","text/css");var t=z("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),n=t.styleSheet,o="";return Object.defineProperty(e,"styleNode",{value:t,writable:!0}),{add:function(e){o+=e},inject:function(){o&&(n?n.cssText+=o:t.innerHTML+=o,o="")}}}(W),_e=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),o=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+o)},o)}}return t}(i||{});W.util={brackets:me,tmpl:ve},W.mixin=function(){var e={},t=e[te]={},n=0;return function(o,i,r){if(j(o))return void W.mixin("__unnamed_"+n++,o,!0);var a=r?t:e;if(!i){if(typeof a[o]===se)throw new Error("Unregistered mixin: "+o);return a[o]}b(i)?(k(i.prototype,a[o]||{}),a[o]=i):a[o]=k(a[o]||{},i)}}(),W.tag=function(e,t,n,o,i){return b(o)&&(i=o,/^[\w\-]+\s?=/.test(n)?(o=n,n=""):o=""),n&&(b(n)?i=n:he.add(n)),e=e.toLowerCase(),ee[e]={name:e,tmpl:t,attrs:o,fn:i},e},W.tag2=function(e,t,n,o,i){return n&&he.add(n),ee[e]={name:e,tmpl:t,attrs:o,fn:i},e},W.mount=function(e,t,n){function o(e){var t="";return _(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+ie+'="'+e+'"],['+oe+'="'+e+'"]')}),t}function i(){var e=Object.keys(ee);return e+o(e)}function r(e){if(e.tagName){var o=O(e,ie)||O(e,oe);t&&o!==t&&(o=t,N(e,ie,t),N(e,oe,t));var i=Q(e,o||e.tagName.toLowerCase(),n);i&&u.push(i)}else e.length&&_(e,r)}var a,s,u=[];if(he.inject(),j(t)&&(n=t,t=0),typeof e===re?("*"===e?e=s=i():e+=o(e.split(/, */)),a=e?V(e):[]):a=e,"*"===t){if(t=s||i(),a.tagName)a=V(t,a);else{var l=[];_(a,function(e){l.push(V(t,e))}),a=l}t=0}return r(a),u},W.update=function(){return _(Y,function(e){e.update()})},W.vdom=Y,W.Tag=m,typeof t===ae?e.exports=W:"function"===ue&&typeof n(/*! !webpack amd options */23)!==se?(o=function(){return W}.call(t,n,t,e),!(o!==r&&(e.exports=o))):i.riot=W}("undefined"!=typeof window?window:void 0)},/*!*********************************************************!*\
  !*** ../~/promissory-arbiter/src/promissory-arbiter.js ***!
  \*********************************************************/
function(e,t,n){!function(t,n){"use strict";"function"==typeof t.define?t.define(["exports"],n):e.exports=n()}(this,function(){"use strict";function e(e,t,n,o,i){fe(typeof t,"string","Arbiter.subscribe","strings","topics"),o=ne(e.options,o);var r=b(t,_(t,e._topics)),a=z(E,$(e,n,o,i),r.subscriptions),s={topic:t,id:a.id,priority:a.priority};if(!o.ignorePersisted){var u,l,c,d=re(N,D(r)),f=V(j,d);for(l=0,c=f.length;l<c;l++)u=f[l],!n.suspended&&n.call(n.context,u.data,u.topic)}return s}function t(e,t,n,o){fe(typeof t,"string","Arbiter.publish","strings","topics"),o=ne(e.options,o);var i=[e,t,n,o];return o.sync?a(e,t,n,o):ee(a,i)}function n(e,t,n){t="string"==typeof t?t.split(/,\s*/):t,t=t.length?t:[t];var o=ie({topics:e._topics,suspend:n},h,t);return 1===o.length?o[0]:o}function o(e,t){t="string"==typeof t?t.split(/,\s*/):t,t=t.length?t:[t];var n=ie(e._topics,g,t);return 1===n.length?n[0]:n}function i(e,t){if("string"==typeof t)return!!v(X,"persisted",t,e);var n=t.topic,o=_(n,e);if(o.topic!==n)return!1;var i=t.id,r=o.persisted,a=G(C,i,o.persisted),s=r[a];return!(!s||s.order!==i)&&(r.splice(a,1),!0)}function r(){var e=I(""),i={persist:!1,sync:!1,preventBubble:!1,latch:.9999999999999999,settlementLatch:!1,semaphor:1/0,updateAfterSettlement:!1},a={_topics:e,options:i,version:"v1.0.0",id:W(),create:r};return a.subscribe=te(p,a),a.publish=te(t,a),a.unsubscribe=te(n,a),a.resubscribe=te(o,a),a.removePersisted=te(u,a),a}function a(e,t,n,o){var i=F(L,x,t,e._topics),r=i[i.length-1],a=o.preventBubble?r.topic===t?r.subscriptions:[]:V(S,re(q,i)),s=l(t,n,o,a);if(o.persist){var u=e.id();r=b(t,r),r.persisted.push({topic:t,data:n,order:u}),s.token={topic:t,id:u}}return s}function s(e,t,n,o,i,r,a){for(var s,u=i.promise;i.i>=0&&u.pending<n.semaphor;i.i-=1)s=o[i.i],s.suspended||(u.pending+=1,f(s,t,e).then(r,a))}function u(e,t){t=t&&t.token||t||"",t="string"==typeof t?t.split(/,\s*/):t,t=t.length?t:[t];var n=ie(e._topics,i,t);return 1===n.length?n[0]:n}function l(e,t,n,o){var i=k(),r=c("fulfilledValues","fulfilled",n,i),a=c("rejectedValues","rejected",n,i);return i.i=o.length-1,i.resume={topic:e,data:t,subscriptions:o,fulfill:r,reject:a},s(e,t,n,o,i,r,a),d(i,n),i.promise}function c(e,t,n,o){return function(i){if(!o.settled||n.updateAfterSettlement){var r=o.promise;if(o[e].push(i),r[t]+=1,r.pending-=1,o.i>=0){var a=o.resume;return void s(a.topic,a.data,n,a.subscriptions,o,a.fulfill,a.reject)}d(o,n)}}}function d(e,t){var n=t.settlementLatch,o=t.latch,i=e.promise,r=i.fulfilled,a=i.pending,s=i.rejected,u=r+s,l=r+a,c=r+a+s;return e.settled?e.settled:!n&&o>=1&&l<o||!n&&o<1&&l/c<o||n&&o>=1&&c<o||n&&o<1&&0===c?(e.settled=!0,e.reject(e.rejectedValues)):!n&&o>=1&&r>=o||!n&&o<1&&r/c>=o||n&&o>=1&&u>=o||n&&o<1&&u/c>=o?(e.settled=!0,n?e.fulfill(e.fulfilledValues.concat(e.rejectedValues)):e.fulfill(e.fulfilledValues)):e.settled}function f(e,t,n){var o;if(3===e.fn.length)return new Promise(function(o,i){e.fn.call(e.context,t,n,function(e,t){return e?i(e):o(t)})});try{o=e.fn.call(e.context,t,n)}catch(i){return Promise.reject(i)}return o&&"function"==typeof o.then?o:Promise.resolve(o)}function p(e,t,n,o,i){t="string"==typeof t?t.split(/,\s*/):t,t=t&&t.length?t:[t];var r=ie([e,null,n,o,i],m,t);return 1===r.length?r[0]:r}function m(t,n){return t[1]=n,e.apply(null,t)}function v(e,t,n,o){var i=_(n,o);return i.topic===n?ie(t,e,D(i)):null}function g(e,t){if("string"==typeof t)return!!v(M,"subscriptions",t,e);var n=_(t.topic,e);if(n.topic!==t.topic)return!1;var o=K(C,E,t.id,t.priority,G(E,t.priority,n.subscriptions),n.subscriptions);return o!==-1&&!!T(n.subscriptions[o])}function h(e,t){var n=e.topics,o=e.suspend;if("string"==typeof t)return!!v(o?P:X,"subscriptions",t,n);var i=_(t.topic,n);if(i.topic!==t.topic)return!1;var r=K(C,E,t.id,t.priority,G(E,t.priority,i.subscriptions),i.subscriptions);return r!==-1&&(o?!!A(i.subscriptions[r]):!!i.subscriptions.splice(r,1))}function _(e,t){return R(L,e,x,t)}function b(e,t){var n=t.topic,o=[];return n!==e&&(o=oe(w,[n],e.substr(n.length).replace(/^\./,"").split("."))),B(y,re(I,o.slice(1)),t)}function y(e,t){return U(L,t,e)}function w(e,t){var n=""===e[e.length-1]?"":e[e.length-1]+".";return e.push(n+t),e}function x(e,t){var n=L(t);return e===n||ae(e,n+".")||""===n}function j(e){var t=Z(e);return t!==Y?O(t):1/0}function S(e){var t=Z(e);return t!==Y?E(t):1/0}function L(e){return e.topic}function O(e){return e.order}function N(e){return e.persisted}function C(e){return e.id}function E(e){return e.priority}function q(e){return e.subscriptions}function M(e,t){return re(T,t[e])}function T(e){return e.suspended=!1,e}function P(e,t){return re(A,t[e])}function A(e){return e.suspended=!0,e}function k(){var e={settled:!1,fulfilledValues:[],rejectedValues:[]},t=new Promise(function(t,n){e.fulfill=t,e.reject=n});return t.fulfilled=0,t.rejected=0,t.pending=0,e.promise=t,e}function $(e,t,n,o){return{id:e.id(),fn:"function"==typeof t?t:de,suspended:!1,priority:+n.priority||0,context:o||null}}function I(e){return{topic:e,subscriptions:[],children:[],persisted:[]}}function F(e,t,n,o,i){if(i=i||[],o&&t(n,o)){i.push(o);var r=G(e,n,o.children),a=o.children[r],s=a&&e(a)===n?a:o.children[r-1];return F(e,t,n,s,i)}return i}function R(e,t,n,o){if(e(o)===t)return o;var i=G(e,t,o.children),r=o.children[i],a=o.children[i-1];return r&&n(t,r)?R(e,t,n,r):a&&n(t,a)?R(e,t,n,a):o}function D(e){return oe(H,[e],e.children)}function H(e,t){return e.concat(D(t))}function B(e,t,n){return oe(e,n,t)}function U(e,t,n){return n.children.splice(G(e,e(t),n.children),0,t),t}function V(e,t){var n,o,i=oe(le,0,re(ue,t)),r=new Array(i),a=re(Q,t);for(n=0;n<i;n++)o=J(e,a),r[n]=Z(o),o.pointer+=1;return r}function z(e,t,n){var o=G(e,e(t),n);return n.splice(o,0,t),t}function K(e,t,n,o,i,r){for(var a=i,s=r[i];s&&(e(s)!==n||t(s)!==o);)s=r[--i];for(s&&e(s)===n||(i=Math.min(r.length,a+1),s=r[i]);s&&(e(s)!==n||t(s)!==o);)s=r[++i];return s&&e(s)===n?i:-1}function G(e,t,n){for(var o,i,r=t,a=0,s=n.length;a<s;)o=a+s>>>1,i=e(n[o]),i<r?a=o+1:s=o;return s}function J(e,t){for(var n,o=0,i=t[o],r=e(i);++o<t.length;)n=e(t[o]),n<r&&(r=n,i=t[o]);return i}function Z(e){var t=e.pointer,n=e.array;return n.length>t?n[t]:Y}function Q(e){return{pointer:0,array:e}}function W(){var e=-9007199254740992;return function(){return e++}}function X(e,t){return t[e].length=0,t}function Y(){}function ee(e,t){new Promise(se).then(function(){return e.apply(null,t)})}function te(e,t){return function(){var n=re(ce,arguments);return n.unshift(t),e.apply(null,n)}}function ne(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}function oe(e,t,n){var o,i,r=t;for(o=0,i=n.length;o<i;o++)r=e(r,n[o]);return r}function ie(e,t,n){var o,i,r=[];for(o=0,i=n.length;o<i;o++)r.push(t(e,n[o]));return r}function re(e,t){var n,o,i=[];for(n=0,o=t.length;n<o;n++)i.push(e(t[n]));return i}function ae(e,t,n){return n=n||0,e.lastIndexOf(t,n)===n}function se(e){e()}function ue(e){return e.length}function le(e,t){return e+t}function ce(e){return e}function de(){}function fe(e,t,n,o,i){if(e!==t)throw new Error(n+" only accepts "+o+" as "+i)}return r()})},/*!************************!*\
  !*** ./store/index.js ***!
  \************************/
function(e,t,n){"use strict";var o=n(/*! promissory-arbiter */2),i=n(/*! watchjs */22),r=i.watch;i.unwatch;o.subscribe("mutations",function(e){var t=e.mutation,n=e.value;console.log(t,u[t]),u[t](n)});var a=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},s={profile:{username:null},modals:{registration:{name:"registration",title:"Create your account",content:"store.forms.registration",buttons:[{name:"Submit",action:"submit_registration",color:"blue",state:"pristine"},{name:"Cancel",action:"deactive_registration",color:"red",state:"pristine"}],state:"inactive"},login:{name:"login",title:"Login to your account",content:"store.forms.login",buttons:[{name:"Submit",action:"submit_login",color:"blue",state:"pristine"},{name:"Cancel",action:"deactive_login",color:"red",state:"pristine"}],state:"inactive"}},forms:{registration:{title:"Create your account",name:"registration",fields:[{label:"First Name",name:"firstname",input_type:"text",placeholder:"Enter your first name",valid:!0,pristine:!0,error:null,value:null},{label:"Last Name",name:"lastname",input_type:"text",placeholder:"Enter your last name",valid:!0,pristine:!0,error:null,value:null},{label:"Username",name:"username",input_type:"text",placeholder:"Enter a username for this account",valid:!0,pristine:!0,error:null,value:null},{label:"Password",name:"password",input_type:"password",placeholder:"Enter your password",valid:!0,pristine:!0,error:null,value:null},{label:"Confirm password",name:"confirm_password",input_type:"password",placeholder:"Confirm your password",valid:!0,pristine:!0,error:null,value:null},{label:"Mobile",name:"mobile",input_type:"text",placeholder:"Enter your mobile number",valid:!0,pristine:!0,error:null,value:null},{label:"Email",name:"email",input_type:"email",placeholder:"Enter your email address",valid:!0,pristine:!0,error:null,value:null}],action:"submit_registration",state:"pristine"},login:{title:"Login to your account",name:"login",fields:[{label:"Username",name:"username",input_type:"text",placeholder:"Enter your username",valid:!0,pristine:!0,error:null,value:null},{label:"Password",name:"password",input_type:"password",placeholder:"Enter your password",valid:!0,pristine:!0,error:null,value:null}],action:"submit_login",state:"pristine"}},registration_flow:{registration_submitted:!1,registration_sent_remote:!1,registration_failed:{status:!1,message:null},registration_succeeded:!1},authentication_flow:{login_submitted:!1,login_sent_remote:!1,login_failed:{status:!1,message:null},login_succeeded:!1},macaroon:null,remote_requests:[],credentials:{username:null,password:null},authenticated:!1,route:"/",routes:{},startup_selected_or_created:"selected"};t.store=s;var u={change_registration_state:function(e){console.log("mutations---> change_registration_state",e);var t=e.state;s.registration_flow[t]=!0,"registration_submitted"==t&&(s.registration_flow.registration_submitted=!0),"registration_succeeded"==t&&(s.registration_flow.registration_succeeded=!0),"registration_failed"==t&&(s.registration_flow.registration_failed={status:!0,message:e.value.message})},update_modal_state:function(e){var t=e.value.modal_name;console.log("mutations---> change",t,s.modals[t]),s.modals[t].state=e.value.modal_state},change_form_state:function(e){},update_form:function(e){console.log("mutations---> update_form",e.value);var t=e.value,n=s.forms[t.form];console.log(s.forms[t.form]);for(var o=0;o<n.fields.length;o++)n.fields[o].name==t.field&&(console.log("found a field match",n.fields[o]),n.fields[o].value=t.value);console.log(n)},change_login_state:function(e){console.log("mutations---> change_login_state",e);var t=e.state;s.authentication_flow[t]=!0,"login_submitted"==t&&(s.credentials.username=e.credentials.username,s.credentials.password=e.credentials.password),"login_succeeded"==t&&(s.profile.username=e.value.username),"login_failed"==t&&(console.log("FAILLLLLLLEEEEEDDDDDDD",e.value),s.authentication_flow.login_failed={status:!0,message:e.value.message})},update_macaroon:function(e){s.macaroon=e.value},change_route:function(e){console.log("mutations---> change route"),s.route=e.route},set_selected_or_created:function(e){s.startup_selected_or_created=e},add_job_id:function(e){console.log("mutations---> add_job_id",e);var t=e.value.job_id,n=e.value.request_id;console.log(s.remote_requests,n);for(var o=0;o<s.remote_requests.length;o++)if(s.remote_requests[o].request_id==n){console.log(n,"matched");var i={};i.request_id=n,i.job_id=t,i.status="pending",i.action=s.remote_requests[o].action,i.success=s.remote_requests[o].success,i.failed=s.remote_requests[o].failed,s.remote_requests.splice(o,1),console.log("deleted---->",s.remote_requests),s.remote_requests.push(i),console.log("add_job_id---->",s.remote_requests)}},created_job_request:function(e){console.log("payload",e);var t=e.state,n=e.value.success,o=e.value.failed;console.log(n,o);var i=a(),r={};r.request_id=i,r.status="blank",r.payload=e.value.payload,r.success=n,r.failed=o,r.action=t,console.log(r),s.remote_requests.push(r),console.log("remote_requests---->",s.remote_requests)},set_job_as_fulfilled:function(e){console.log("fulfilled",e.value);for(var t=e.value.job_id,n=0;n<s.remote_requests.length;n++)if(s.remote_requests[n].job_id==t){var o={};o.request_id=e.value.request_id,o.job_id=t,o.status="done",o.message=e.value.message,o.status_code=e.value.status_code,o.payload=e.value.payload,o.action=s.remote_requests[n].action,o.success=s.remote_requests[n].success,o.failed=s.remote_requests[n].failed,s.remote_requests.splice(n,1),console.log("deleted---->",s.remote_requests),s.remote_requests.push(o),console.log("job fulfilled ---->",s.remote_requests)}}};r(s,"registration_flow",function(e,t,n,i){console.log(e,t,n,i),"registration_submitted"==e?o.publish("registration_flow",{prop:e,oldvalue:i,newvalue:n,registration_credentials:s.credentials}):o.publish("registration_flow",{prop:e,oldvalue:i,newvalue:n})}),r(s,"authentication_flow",function(e,t,n,i){console.log(e,t,n,i),"login_submitted"==e?o.publish("authentication_flow",{prop:e,oldvalue:i,newvalue:n,login_credentials:s.credentials}):o.publish("authentication_flow",{prop:e,oldvalue:i,newvalue:n})}),r(s,"profile",function(e,t,n,i){console.log("profile watch--->",e,t,n,i),o.publish("profile",{prop:e,oldvalue:i,newvalue:n})}),r(s.modals.login,function(e,t,n,i){console.log("login modal watch--->",e,t,n,i),"active"==n&&o.publish("activate_login_modal",{oldvalue:i,newvalue:n}),"inactive"==n&&o.publish("deactivate_login_modal",{oldvalue:i,newvalue:n})},2),r(s.modals.registration,function(e,t,n,i){console.log("registration modal watch--->",e,t,n,i),"active"==n&&o.publish("activate_registration_modal",{oldvalue:i,newvalue:n}),"inactive"==n&&o.publish("deactivate_registration_modal",{oldvalue:i,newvalue:n})},2),r(s,"macaroon",function(e,t,n,i){console.log("macaroon watch--->",e,t,n,i),o.publish("macaroon",{prop:e,oldvalue:i,newvalue:n})}),r(s,"remote_requests",function(e,t,n,i){console.log("remote requests watch--->",e,t,n,i),o.publish("remote_requests",{prop:e,oldvalue:i,newvalue:n[0]})}),r(s,"jobs",function(e,t,n,i){console.log("watch",e,t,n,i),o.publish("jobs",{prop:e,oldvalue:i,newvalue:n})}),r(s,"fulfilled_jobs",function(e,t,n,i){console.log(e,t,n,i),o.publish("fulfilled_jobs",{prop:e,oldvalue:i,newvalue:n})})},/*!**************************************!*\
  !*** ./components/anon_homepage.tag ***!
  \**************************************/
function(e,t,n){(function(e){"use strict";var t=(n(/*! promissory-arbiter */2),n(/*! ../store/index.js */3));e.tag2("anon_homepage",'<topnav></topnav> <div class="ui two column centered grid container"> <div class="column"> <div class="ui basic segment"> <signuporsignin></signuporsignin> </div> </div> </div> <modal data="{login_modal}" content="{login_form}"> <tsform data="{data}" content="{content}"></tsform> </modal> <modal data="{registration_modal}"></modal>',"","",function(e){var n=this;this.on("update",function(){n.login_form=t.store.forms.login,console.log("loginform",n.login_form),n.login_modal=t.store.modals.login,n.registration_modal=t.store.modals.registration,console.log("anon_homepage----",this.registration_modal)}),this.on("mount",function(){})})}).call(t,n(/*! riot */1))},/*!****************************!*\
  !*** ./components/app.tag ***!
  \****************************/
function(e,t,n){(function(e){"use strict";e.tag2("app","<router></router> <control></control> <job></job> <poller></poller>","","",function(e){})}).call(t,n(/*! riot */1))},/*!********************************!*\
  !*** ./components/control.tag ***!
  \********************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("control","","","",function(e){t.subscribe("authentication_flow",function(e){var n=e.prop;if(console.log("control tag --->",e),"login_submitted"==n){var o=e.login_credentials,e=e.newvalue;console.log("login_credentials",o),t.publish("actions",{action:"submit_login_remote",value:{payload:o,success:"login_succeeded",failed:"login_failed"}})}})})}).call(t,n(/*! riot */1))},/*!**************************************!*\
  !*** ./components/drafteditpage.tag ***!
  \**************************************/
function(e,t,n){(function(e){"use strict";e.tag2("drafteditpage",'<div class="ui container"> <div class="{row:true, hide:data.view==\'investor\'||data.steps.display==false, show:data.view==\'founder\'&&data.steps.display==true}"> <div class="{ui:true, text:true, small:true, grey:data.menutheme.color==\'grey\', teal:data.menutheme==\'teal\', blue:data.menutheme.color==\'blue\', red:data.menutheme==\'red\', inverted:data.menutheme.inverted, right:true, menu:true, show:steps.display, hide:steps.display==false}"> <div class="right menu"> <div class="item"> <div class="ui small basic button">Back</div> </div> <div class="item"> <div class="ui small {data.menutheme.color} button">Done</div> </div> </div> </div> <div class="{ui:true, four:true, column:true, grid:true}"> <div class="{five:true, wide:true, column:true, show:data.steps.display, hide:data.steps.display==false}"> <step steps="{data.steps.items}" vertical="{data.steps.vertical}"></step> </div> <div class="{eleven:data.steps.display==true, wide:true, column:true}"> <div class="{ui:true, column:true, grid:true, show:data.active_step==\'startup\', hide:data.active_step!=\'startup\'}"> <div class="column"> <div class="ui segment"> <div class="row"> <startup></startup> </div> </div> </div> </div> <div class="{ui:true, column:true, grid:false, show:data.active_step==\'tractionedit\', hide:data.active_step!=\'tractionedit\'}"> <div class="column"> <tractionedit data="{data}"></tractionedit> </div> </div> <div class="{ui:true, column:true, grid:true, show:data.active_step==\'team\', hide:data.active_step!=\'team\'}"> <div class="column"> <team></team> </div> </div> <div class="{ui:true, column:true, grid:true, show:data.active_step==\'commercials\', hide:data.active_step!=\'commercials\'}"> <div class="column"> <commercials></commercials> </div> </div> <div class="{ui:true, column:true, grid:true, show:data.active_step==\'share\', hide:data.active_step!=\'share\'}"> <div class="column"> <share data="{data}" share="{data.share}" steps="{data.steps}"></share> </div> </div> <div class="{ui:true, text:true, small:true, grey:data.menutheme.color==\'grey\', teal:data.menutheme==\'teal\', blue:data.menutheme.color==\'blue\', red:data.menutheme==\'red\', inverted:data.menutheme.inverted, right:true, menu:true, show:steps.display, hide:steps.display==false}"> <div class="right menu"> <div class="item"> <div class="ui small basic button">Back</div> </div> <div class="item"> <div class="ui small {data.menutheme.color} button">Done</div> </div> </div> </div> </div> </div> </div> </div>',"","",function(t){this.data={},this.data.dropdownobservable=e.observable(),console.log(t.data)})}).call(t,n(/*! riot */1))},/*!*********************************!*\
  !*** ./components/homepage.tag ***!
  \*********************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("homepage",'<macaroon></macaroon> <div class="{hide:authenticated==false}"> <loggedin_homepage profile="{profile}"></loggedin_homepage> </div> <div class="{hide:authenticated==true}"> <anon_homepage></anon_homepage> </div>',"","",function(e){var n=this;this.authenticated=!1,this.profile={},t.subscribe("authentication_flow",function(e){n.update(e)}),t.subscribe("authentication_flow",function(e){var t=e.prop;console.log("control tag --->",e),"login_succeeded"==t&&(n.authenticated=!0,n.update())}),t.subscribe("profile",function(e){var t=e.prop;console.log("control tag --->",e),"username"==t&&(n.profile.username=e.newvalue,n.update())}),this.on("update",function(e){if(void 0==e);else{var t=e,o=!1;t.login_failed&&(o=!0),1==t.login_submitted&&0==o?n.loading=!0:n.loading=!1}})})}).call(t,n(/*! riot */1))},/*!****************************!*\
  !*** ./components/job.tag ***!
  \****************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2),o=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};e.tag2("job","","","",function(e){var n=this;n.uuid=o(),n.remote_requests=[],n.macaroon=null,n.api={submit_login_remote:{type:"POST",url:"http://api.termsheet.io/login/"}},t.subscribe("remote_requests",function(e,o){var i=null;if(console.log(o,e.newvalue),"blank"==e.newvalue.status){var r=e.newvalue.request_id,a=e.newvalue.payload;console.log("action",e.newvalue.action,"payload",a),n.remote_requests.push(r),console.log(n.api[e.newvalue.action]),$.ajax({type:n.api[e.newvalue.action].type,url:n.api[e.newvalue.action].url,dataType:"json",contentType:"application/json",async:!0,headers:{Authorization:n.macaroon},data:JSON.stringify(a),success:function(e){console.log(e),i=e.job_id}}),t.publish("actions",{action:"add_job_id",value:{job_id:i,request_id:r}})}if("done"==e.newvalue.status){var s=!1;if(200==e.newvalue.status_code&&(s=!0),1==s)var u=e.newvalue.success;else var u=e.newvalue.failed;t.publish("actions",{action:u,value:e.newvalue})}}),t.subscribe("macaroon",function(e){n.macaroon=e.newvalue,console.log("macaroon_received",n.macaroon)})})}).call(t,n(/*! riot */1))},/*!******************************************!*\
  !*** ./components/loggedin_homepage.tag ***!
  \******************************************/
function(e,t,n){(function(e){"use strict";e.tag2("loggedin_homepage","<div>{profile.username}</div>","","",function(e){this.profile=e.profile})}).call(t,n(/*! riot */1))},/*!******************************!*\
  !*** ./components/login.tag ***!
  \******************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("login",'<div class="ui segment"> <form class="ui form" id="signinForm" onsubmit="{loginUser}"> <h4 class="ui dividing header">Login</h4> <div> <div class="field"> <label>Username</label> <input type="text" name="username" placeholder="username"> </div> <div class="field"> <label>Password</label> <input type="password" name="password" placeholder="password"> </div> <button __disabled="{this.loading}" class="{loading: this.loading, ui: true, primary:true, button: true}" type="submit" form="signinForm" value="Submit">Login</button> <div class="{hide:message==null}">{message}</div> </div> </form> </div>',"","",function(e){var n=this;this.loading=!1,this.message=null,this.loginUser=function(){console.log(this.username.value),console.log("loginUser--->",n.username.value);var e={username:n.username.value,password:n.password.value};t.publish("actions",{action:"submit_login",value:e})},t.subscribe("authentication_flow",function(e){console.log("login.tag got data--->",e);var t=e.prop,e=e.newvalue;"login_submitted"==t&&(n.loading=e),"login_succeeded"==t&&(n.loading=!1),"login_failed"==t&&(n.loading=!1,n.message=e.message),n.update()})})}).call(t,n(/*! riot */1))},/*!*********************************!*\
  !*** ./components/macaroon.tag ***!
  \*********************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("macaroon","","","",function(e){this.on("mount",function(){$.get("http://api.termsheet.io/get_anonymous_token/",function(e){console.log(e),t.publish("actions",{action:"macaroon_received",value:e.Authorization})})})})}).call(t,n(/*! riot */1))},/*!******************************!*\
  !*** ./components/modal.tag ***!
  \******************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("modal",'<div id="{id}" class="{ui:true, small:true, modal:true}"> <i onclick="{cancelModal}" class="close icon"></i> <div class="header"> {data.title} </div> <div class="{image:image_src, content:true}"> <yield></yield> </div> <div class="actions"> <div each="{data.buttons}" class="{ui:true, button:true, blue:color==\'blue\', red:color==\'red\'}" onclick="{buttonAction(action)}">{name}</div> </div> </div>',"","",function(e){var n=this;this.content=this.opts.content,this.data=this.opts.data,this.small=this.opts.data,this.active=!1;var o=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};this.id=o(),this.on("update",function(){n.content=n.opts.content,n.data=n.opts.data,console.log("this.content",this.opts),n.name=n.opts.data.name,n.title=n.opts.data.title,n.image_src=n.opts.data.image_src,n.image_description=n.opts.data.image_description,n.modal=$("#"+n.id)}),this.on("mount",function(){n.modal_name="activate_"+n.name+"_modal",n.hide_modal_name="deactivate_"+n.name+"_modal",t.subscribe(n.modal_name,function(){console.log("show",n.opts.data,n.modal,n.modal_name),$("#"+n.id).modal("show")}),t.subscribe(n.hide_modal_name,function(){console.log("hide",n.opts.data,n.modal,n.hide_modal_name),$("#"+n.id).modal("hide")})}),this.cancelModal=function(){t.publish("actions",{action:"deactivate_modal",value:{modal_name:n.name,modal_state:"inactive"}})},this.buttonAction=function(e){console.log(e),t.publish("actions",{action:e,value:{}})}})}).call(t,n(/*! riot */1))},/*!**********************************!*\
  !*** ./components/only-logo.tag ***!
  \**********************************/
function(e,t,n){(function(e){"use strict";e.tag2("only-logo",'<img src="img/log.png">',"","",function(e){})}).call(t,n(/*! riot */1))},/*!*******************************!*\
  !*** ./components/poller.tag ***!
  \*******************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("poller","","","",function(e){var n=this;n.macaroon=null,t.subscribe("macaroon",function(e){n.macaroon=e.newvalue,console.log("macaroon_received",n.macaroon);n.startPoller()}),this.startPoller=function(){var e=setInterval(function(){$.ajax({type:"GET",url:"http://api.termsheet.io/data.json",dataType:"json",contentType:"application/json",async:!0,headers:{Authorization:n.macaroon},success:function(e){if(console.log(e),e.length>0)for(var n=0;n<e.length;n++){console.log("0------",e[n][Object.keys(e[n])[0]]);var o=e[n][Object.keys(e[n])[0]],i=o.job_id,r=(o.status_code,o.payload),a=o.messsage;console.log(i,a,r),t.publish("actions",{action:"set_job_as_fulfilled",value:{value:o}})}}})},4e3);return e}})}).call(t,n(/*! riot */1))},/*!*******************************!*\
  !*** ./components/router.tag ***!
  \*******************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("router",'<div id="app"></div>',"","",function(n){var o=this,i={"/":"homepage","/create":"drafteditpage"};console.log("routes--->",i),this.currentPage=null,console.log("this.currentPage-->",this.currentPage);var r=function(t){console.log("goTo-->",t,o.currentPage),o.currentPage&&(console.log("goTo if self.currentPage-->",o.currentPage),o.currentPage.unmount(!0)),o.currentPage=e.mount("#app",t)[0],console.log("goTo mounted this.currentPage-->",o.currentPage)};t.subscribe("route",function(e){console.log("riotux.subscribe-->",e),o.update(e)}),this.on("update",function(t){console.log("update-->");o.route;void 0==t&&(t="/"),o.route=t,console.log("update self.route-->",o.route,i[o.route]),r(i[o.route]),e.route(o.route)}),this.on("mount",function(){console.log("this.on('mount')-->"),o.route="/",console.log("this.on('mount')",o.currentPage,i[o.route]),r(i[o.route]),e.route.start(!0)}),this.on("unmount",function(){e.route.stop()})})}).call(t,n(/*! riot */1))},/*!***************************************!*\
  !*** ./components/signuporsignin.tag ***!
  \***************************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);e.tag2("signuporsignin",'<div class="ui two column middle aligned very relaxed stackable padded grid"> <div class="center aligned column"> <div class="ui small blue labeled icon button" onclick="{activeLogin}"> <i class="sign in icon"></i> Login </div> <div class="content"> <div class="description light padding">Sign in using your Open Account</div> </div> </div> <div class="ui vertical divider"> Or </div> <div class="center aligned column"> <div onclick="{registerUser}" class="ui small green labeled icon button"> <i class="signup icon"></i> Sign Up </div> <div class="content"> <div class="description light padding">Create your Open Account</div> </div> </div> </div>',"","",function(e){this.activeLogin=function(){t.publish("actions",{action:"activate_modal",value:{modal_name:"login",modal_state:"active"}})},this.registerUser=function(){t.publish("actions",{action:"activate_modal",value:{modal_name:"registration",modal_state:"active"}})}})}).call(t,n(/*! riot */1))},/*!*******************************!*\
  !*** ./components/topnav.tag ***!
  \*******************************/
function(e,t,n){(function(e){"use strict";e.tag2("topnav",'<div class="ui container"> <div class="ui text menu"> <div class="item"> <only-logo></only-logo> </div> </div> </div>',"","",function(e){})}).call(t,n(/*! riot */1))},/*!*******************************!*\
  !*** ./components/tsform.tag ***!
  \*******************************/
function(e,t,n){(function(e){"use strict";var t=n(/*! promissory-arbiter */2);n(/*! ../store/index.js */3);e.tag2("tsform",'<div onsubmit="{submitForm}" class="ui form"> <div each="{form.fields}" class="required field"> <label>{label}</label> <input type="{input_type}" name="{name}" onkeyup="{updateStoreForm}" placeholder="{placeholder}"> </div> </div>',"","",function(e){var n=this;this.submitForm=function(){t.publish("actions",{action:n.content.action,payload:{}})},this.updateStoreForm=function(e){n[e.item.name]=e.target.value;var o=n.opts.content.name;console.log("--------> field",n.opts.content.name,o,e.item.name,"value",n[e.item.name]),t.publish("actions",{action:"update_form",value:{form:o,field:e.item.name,value:n[e.item.name]}})},this.on("update",function(){n.form=n.opts.content,console.log("form",n.opts,n.content,n.data)}),this.on("mount",function(){n.form=n.opts.formdata,console.log("form",n.opts,n.content,n.data)})})}).call(t,n(/*! riot */1))},/*!**************************!*\
  !*** ./actions/index.js ***!
  \**************************/
function(e,t,n){"use strict";var o=n(/*! promissory-arbiter */2),i={macaroon_received:function(e){o.publish("mutations",{mutation:"update_macaroon",value:{state:"macaroon_received",value:e}})},activate_modal:function(e){o.publish("mutations",{mutation:"update_modal_state",value:{state:"modal_activated",value:e}})},deactivate_modal:function(e){o.publish("mutations",{mutation:"update_modal_state",value:{state:"modal_deactivated",value:e}})},update_form:function(e){o.publish("mutations",{mutation:"update_form",value:{state:"update_form",value:e}})},login_succeeded:function(e){o.publish("mutations",{mutation:"change_login_state",value:{state:"login_succeeded",value:e}})},login_failed:function(e){o.publish("mutations",{mutation:"change_login_state",value:{state:"login_failed",value:e}})},submit_login:function(e){o.publish("mutations",{mutation:"change_login_state",value:{state:"login_submitted",credentials:e}})},submit_login_remote:function(e){o.publish("mutations",{mutation:"created_job_request",value:{state:"submit_login_remote",value:e}})},change_route:function(e){console.log("actions---> change route"),o.publish("change_route",e)},startup_selected_or_created:function(e){o.publish("set_selected_or_created",e)},create_job:function(e){o.publish("mutations",{mutation:"created_job_request",value:{state:"created_job_request",value:e}})},set_job_as_fulfilled:function(e){o.publish("mutations",{mutation:"set_job_as_fulfilled",value:{state:"set_job_as_fulfilled",value:e.value}})},add_job_id:function(e){o.publish("mutations",{mutation:"add_job_id",value:{state:"jobs",value:e}})}};o.subscribe("actions",function(e,t){console.log("actions--->",t,"value----->",e.action),i[e.action](e.value)})},/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
function(e,t,n){"use strict";var o=n(/*! riot */1);n(/*! ./components/router.tag */16),n(/*! ./components/macaroon.tag */12),n(/*! ./components/only-logo.tag */14),n(/*! ./components/topnav.tag */18),n(/*! ./components/modal.tag */13),n(/*! ./components/signuporsignin.tag */17),n(/*! ./components/job.tag */9),n(/*! ./components/control.tag */6),n(/*! ./components/app.tag */5),n(/*! ./components/poller.tag */15),n(/*! ./components/homepage.tag */8),n(/*! ./components/drafteditpage.tag */7),n(/*! ./components/anon_homepage.tag */4),n(/*! ./components/loggedin_homepage.tag */10),n(/*! ./components/login.tag */11),n(/*! ./components/tsform.tag */19),o.mount("#app","app")},/*!*********************************!*\
  !*** ../~/watchjs/src/watch.js ***!
  \*********************************/
function(e,t,n){"use strict";!function(t){e.exports=t()}(function(){var e,t,n,o={noMore:!1},i=function(e){var t={};return e&&"[object Function]"==t.toString.call(e)},r=function(e){return e%1===0},a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(){return Object.defineProperty||Object.prototype.__defineGetter__},u=function(e,t,n,o){try{Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}catch(i){try{Object.prototype.__defineGetter__.call(e,t,n),Object.prototype.__defineSetter__.call(e,t,o)}catch(r){throw"watchJS error: browser not supported :/"}}},l=function(e,t,n){try{Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:n})}catch(o){e[t]=n}},c=function(){i(arguments[1])?d.apply(this,arguments):a(arguments[1])?f.apply(this,arguments):p.apply(this,arguments)},d=function(e,t,n){if(!(e instanceof String)&&(e instanceof Object||a(e))){var o=[];if(a(e))for(var i=0;i<e.length;i++)o.push(i);else for(var r in e)o.push(r);f(e,o,t,n)}},f=function(e,t,n,o){for(var i in t)p(e,t[i],n,o)},p=function(t,n,o,r){i(t[n])||(null!=t[n]&&(void 0===r||r>0)&&(void 0!==r&&r--,d(t[n],o,r)),e(t,n,o))},m=function(){i(arguments[1])?v.apply(this,arguments):a(arguments[1])?g.apply(this,arguments):t.apply(this,arguments)},v=function(e,t){if(!(e instanceof String)&&(e instanceof Object||a(e))){var n=[];if(a(e))for(var o=0;o<e.length;o++)n.push(o);else for(var i in e)n.push(i);g(e,n,t)}},g=function(e,n,o){for(var i in n)t(e,n[i],o)};if(s()){e=function(e,t,i){var r=e[t];b(e,t),e.watchers||l(e,"watchers",{}),e.watchers[t]||(e.watchers[t]=[]),e.watchers[t].push(i);var a=function(){return r},s=function(a){var s=r;r=a,e[t]&&d(e[t],i),b(e,t),o.noMore||JSON.stringify(s)!==JSON.stringify(a)&&(n(e,t,"set",a,s),o.noMore=!1)};u(e,t,a,s)},n=function(e,t,n,o,i){for(var a in e.watchers[t])r(a)&&e.watchers[t][a].call(e,t,n,o,i)};var h=["pop","push","reverse","shift","sort","slice","unshift"],_=function(e,t,o,i){l(e[t],i,function(){var r=o.apply(e[t],arguments);return p(e,e[t]),"slice"!==i&&n(e,t,i,arguments),r})},b=function(e,t){if(e[t]&&!(e[t]instanceof String)&&a(e[t]))for(var n,o=h.length;o--;)n=h[o],_(e,t,e[t][n],n)};t=function(e,t,n){for(var o in e.watchers[t]){var i=e.watchers[t][o];i==n&&e.watchers[t].splice(o,1)}}}else{var y=[];e=function(e,t,n){y.push({obj:e,prop:t,serialized:JSON.stringify(e[t]),watcher:n})},t=function(e,t,n){for(var o in y){var i=y[o];i.obj==e&&i.prop==t&&i.watcher==n&&y.splice(o,1)}},n=function(e,t,n,o){for(var i in y){var r=y[i];r.obj==e&&r.prop==t&&r.watcher.call(e,t,n,o)}};var w=function(){for(var e in y){var t=y[e],n=JSON.stringify(t.obj[t.prop]);n!=t.serialized&&(t.watcher.call(t.obj,t.prop,t.obj[t.prop],JSON.parse(t.serialized)),t.serialized=n)}};setInterval(w,50)}return o.watch=c,o.unwatch=m,o.callWatchers=n,o})},/*!*******************************************!*\
  !*** ../~/webpack/buildin/amd-options.js ***!
  \*******************************************/
function(e,t){(function(t){e.exports=t}).call(t,{})}]);
//# sourceMappingURL=app.js.map